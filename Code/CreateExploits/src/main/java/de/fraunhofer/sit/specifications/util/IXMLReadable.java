package de.fraunhofer.sit.specifications.util;

import java.util.List;

import org.w3c.dom.Node;

public interface IXMLReadable {
	public abstract String getTagName();

	public abstract void readIn(Node node);
	public default IXMLReadable readFirstChildIn(Node node) {
		for (Node i : XMLUtils.getXMLIterator(node.getChildNodes())) {
			IXMLReadable readChildIn = readChildIn(i);
			if (readChildIn != null)
				return readChildIn;
		}
		return null;
	}
	public default void readChildsIntoCollection(Node node, List children) {
		for (Node i : XMLUtils.getXMLIterator(node.getChildNodes())) {
			IXMLReadable readChildIn = readChildIn(i);
			if (readChildIn != null)
				children.add(readChildIn);
		}
	}

	public default <T extends IXMLReadable> T readChildIn(Node i) {
		return Registration.readIn(i);
	}
	public default <T extends IXMLReadable> T readChildInByName(Node i, String name) {
		return Registration.readIn(XMLUtils.getFirstChildNodeByName(i, name));
	}

}

