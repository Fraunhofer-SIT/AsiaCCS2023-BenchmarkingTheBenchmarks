package de.fraunhofer.sit.specifications.codegen;

import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;

public class VariableMap {
	private Map<String, Object> map = new HashMap<>();

	public void addVariable(String var, String value) {
		map.put(var, value);
	}
	public Object getVariable(String var) {
		return map.get(var);
	}

	public String replaceVariablesInString(String string) {
		for (Entry<String, Object> m : map.entrySet()) {
			if (m.getValue() instanceof String) {
				String v = (String) m.getValue();
				if (v == null)
					v = "";
				String s = "*" + m.getKey() + "*";
				if (string.contains(s)) {
					if (v.contains("*")) {
						String r = replaceVariablesInString(v);
						v = r;
					}
					string = string.replace(s, v);
				}
			}
		}
		return string;
	}

	@Override
	public String toString() {
		return map.toString();
	}
}
