package de.fraunhofer.sit.specifications.executionprofile.servletcontainers;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import org.w3c.dom.Node;

import de.fraunhofer.sit.specifications.executionprofile.ExecutionProfile;
import de.fraunhofer.sit.specifications.executionprofile.ExecutionProfileProvider;
import de.fraunhofer.sit.specifications.testcases.TestCase;
import de.fraunhofer.sit.specifications.util.XMLUtils;

public class ServletWrapperProvider implements ExecutionProfileProvider{
	public String classname;
	public String methodname;
	public String path;
	public String processId;
	
	@Override
	public String getTagName() {
		
		return "ServletWrapper";
	}

	@Override
	public void readIn(Node node) {
		classname = XMLUtils.getAttributeValue(node, "classname");
		methodname = XMLUtils.getAttributeValue(node, "methodname");
		path = XMLUtils.getAttributeValue(node, "path");
		processId = XMLUtils.getAttributeValue(node, "processid");
	}

	@Override
	public List<ExecutionProfile> getExecutionProfileVariants(TestCase tc) {
		ArrayList<ExecutionProfile> al = new ArrayList<>();

		al.add(new WinstoneServletWrapper(tc, classname, methodname, path, processId));
		al.add(new TomcatServletWrapper(tc, classname, methodname, path, processId));
		al.add(new JettyServletWrapper(tc, classname, methodname, path, processId));
		return al;
	}

}
